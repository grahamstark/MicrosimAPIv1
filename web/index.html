</html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <title>API, v0.1.0</title>
    <link rel="icon" href="images/favicon.png">
    <link rel="stylesheet" href="css/slab-bootstrap.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"/>
    <script type='text/javascript' src='js/jquery.js'></script>
    <script type='text/javascript' src='js/jquery.periodicalupdater.js'></script>
    <script type='text/javascript' src='js/jquery.validate.js'></script>
     <!-- bootstrap -->
    <script src="js/bootstrap.bundle.js"></script>
    <!-- vega graphics -->
    <script type="text/javascript" src="js/vega-lite.min.js"></script>
    <script type="text/javascript" src="js/vega.js"></script>
    <script type="text/javascript" src="js/vega-embed.min.js"></script>
    <!-- templates -->
    <script type='text/javascript' src="js/mustache.min.js"></script>

</head>

<body>
<h1>API Demo</h1>
<form>
    <input onchange="submitForm( 'f2')" id='income_partners_allowance' type='number' name="income_partners_allowance" min='0' max='200000' value='' step='1' size="12" class='form-control w-50'/>
</form>
</body>
<script type='text/javascript'>
function submitForm(action, target){
    var url = "/"+action; // url = "/"+action;
     if( target != null ){
        url += "/"+target;
     }
    var formdata = "f1";
    var uuid = "xxxx";
    var systype = "sys1";
    var data = JSON.stringify({
        params:formdata,
        uuid:uuid,
        systype:systype});
    $.ajax(
        {
            url: url,
            method: 'post',
            dataType: 'json',
            contentType: "application/json",
            data: data
        }
    ).done(
        function( resp ){
            console.log( "submitForm; resp %o", resp);      
        }
    )
}


</script>
</html>
